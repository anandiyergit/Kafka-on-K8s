Follow the instructions to deploy the TLS based encryption data from client to server

Brief->
TLS/SSL implicitly implies one way authentication, where the client validates the Kafka broker identity. 
In order to do this, client applications need to trust the cluster CA certificate. 
Remember that the cluster CA certificate is stored in a Kubernetes Secret. 
By default, these are auto-generated by Strimzi, but you can provide your own certificates as well

1. Deploy the cluster operator CRD kafka-cluster-tls.

2. Extracting the cluster CA certificate and password
export CLUSTER_NAME=my-kafka-cluster
kubectl get secret $CLUSTER_NAME-cluster-ca-cert -o jsonpath='{.data.ca\.crt}' | base64 --decode > ca.crt
kubectl get secret $CLUSTER_NAME-cluster-ca-cert -o jsonpath='{.data.ca\.password}' | base64 --decode > ca.password

3. While some Kafka clients (e.g. Confluent Go client) use the CA certificate directly, 
others (e.g. Java client, Kafka CLI etc.) require access to the CA certificate via a truststore. 
I am using the built-in truststore which comes in with a JDK (Java) installation - 
but this is just for convenience and you're free to use other options (such as creating your own)

export CERT_FILE_PATH=ca.crt
export CERT_PASSWORD_FILE_PATH=ca.password

# replace this with the path to your truststore
export KEYSTORE_LOCATION=/Library/Java/JavaVirtualMachines/jdk1.8.0_221.jdk/Contents/Home/jre/lib/security/cacerts
export PASSWORD=`cat $CERT_PASSWORD_FILE_PATH`
export CA_CERT_ALIAS=strimzi-kafka-cert
# you will prompted for the truststore password. for JDK truststore, the default password is "changeit"
# Type yes in response to the 'Trust this certificate? [no]:' prompt
keytool -importcert -alias $CA_CERT_ALIAS -file $CERT_FILE_PATH -keystore $KEYSTORE_LOCATION -keypass $PASSWORD
keytool -list -alias $CA_CERT_ALIAS -keystore $KEYSTORE_LOCATION

4. Use the existing go-lang project
export KAFKA_BOOTSTRAP_SERVERS=[replace with loadbalancer_ip:9094] e.g. 42.42.424.424:9094
export CA_CERT_LOCATION=[replace with path to ca.crt file which you downloaded]
export KAFKA_TOPIC=test-strimzi-topic
go build -tags dynamic kafka-client.go
./kafka-client


